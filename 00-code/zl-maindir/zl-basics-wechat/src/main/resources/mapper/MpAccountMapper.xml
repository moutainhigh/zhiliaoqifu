<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://10.20.91.130/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.ebeijia.zl.basics.wechat.mapper.MpAccountMapper">
	<select id="listForPage" parameterType="MpAccount" resultType="Account">
		select * from t_wxcms_account order by id desc
	</select>

	<select id="getById" parameterType="java.lang.String" resultType="Account">
		select * from t_wxcms_account where id = #{id}
	</select>
	
	<select id="getByMpAccount" parameterType="java.lang.String" resultType="Account">
		select * from t_wxcms_account 
		where account = #{account,jdbctype=varchar} and rownum &lt;=1
		order by id desc
	</select>
	
	<select id="getSingleMpAccount" resultType="Account">
		select * from t_wxcms_account 
		where rownum &lt;=1
		order by id desc 
	</select>

	<insert id="add" parameterType="MpAccount" flushCache="true">
		insert into t_wxcms_account ( name,account,appid,appsecret,url,token,msgcount,id,createtime )  values ( #{name},#{account},#{appid},#{appsecret},#{url},#{token},#{msgcount},#{id},#{createtime} ) 
	</insert>

	<update id="update" parameterType="MpAccount" flushCache="true">
		update t_wxcms_account set name = #{name},account = #{account},appid = #{appid},appsecret = #{appsecret},url = #{url},token = #{token},msgcount = #{msgcount},createtime = #{createtime} where id = #{id} 
	</update>

	<delete id="delete" parameterType="MpAccount" >
		delete from t_wxcms_account where id = #{id}
	</delete>

</mapper>
